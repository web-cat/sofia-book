<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Chapter 5: Apps with Multiple Screens</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <link rel="stylesheet" href="css/bootstrap.css" type="text/css"/>
    <link rel="stylesheet" href="css/bootstrap-responsive.css" type="text/css"/>
    <link rel="stylesheet" href="codemirror/lib/codemirror.css" type="text/css"/>
    <link rel="stylesheet" href="css/codemirror-theme-simple.css" type="text/css"/>
    <link rel="stylesheet" href="css/style.css" type="text/css"/>

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="brand" href="index.html">Sofia</a>
          <div class="nav-collapse collapse">
            <ul class="nav">
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Chapters <b class="caret"></b></a>
                <ul class="dropdown-menu">
                  <li><a href="chapter1.html">1. Structure of an Android Project</a></li>
                  <li><a href="chapter2.html">2. Basic GUI-Driven Apps</a></li>
                  <li><a href="chapter3.html">3. Testing GUI Apps</a></li>
                  <li><a href="chapter4.html">4. Advanced Graphics</a></li>
                  <li class="active"><a href="chapter5.html">5. Apps with Multiple Screens</a></li>
                </ul>
              </li>
              <li><a href="http://sofia.cs.vt.edu/sofia-2114/api/reference">Sofia API</a></li>
            </ul>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container">

      <!-- Main hero unit for a primary marketing message or call to action -->
      <div class="hero-unit">
        <h1>Apps with Multiple Screens</h1>
        <p class="lead">Creating apps with multiple screens and communicating information between them can be difficult on Android, but Sofia makes the process much easier.</p>
      </div>

      <h3>Jump to...</h3>
      <ol>
        <li><a href="#motivation">Motivation</a></li>
        <li><a href="#navigation-stack">The Navigation Stack</a></li>
        <li><a href="#manifest">Multiple Screens and the Android Manifest File</a></li>
        <li><a href="#display-screen">How to Display Another Screen</a></li>
        <li><a href="#pass-information">Passing Parameters to a New Screen</a></li>
        <li><a href="#return-information">Returning Information Back from a Screen</a></li>
        <li><a href="#manipulating-stack">Manipulating the Navigation Stack</a></li>
      </ol>


      <div class="page-header"><h2 id="motivation">Motivation</h2></div>

      <p>
        All of the examples that we've seen so far have been of apps that only had a single screen. For some small utilities this might be enough, but generally if we want to design apps that accomplish something more interesting, we need to break it up into multiple screens that serve different purposes.
      </p><p>
        For example, an e-mail app would have several different screens depending on the actions that the user would want to perform:
      </p>
      <ul>
        <li>A screen that displays a list of messages in a mailbox, such as the user's inbox</li>
        <li>A screen that displays the contents of a single message that the user wants to read</li>
        <li>A screen that allows the user to compose and send a new message</li>
        <li>A screen that allows the user to configure various e-mail settings, such as his or her accounts and signatures</li>
      </ul>
      <p>
        It would be inappropriate from a software design and a GUI design point of view to lump all of this functionality into a single screen class. What we need is a way to create multiple screens, navigate between them, and pass information between them as well.
      </p>


      <div class="page-header"><h2 id="navigation-stack">The Navigation Stack</h2></div>

      <p class="center">
        <img src="img/ch5/navigation-stack.png"/>
      </p>

      <p>
        Navigation in Android apps is based on a <span class="label label-info">stack</span> (called a <span class="label label-info">back stack</span> in the official Android documentation). Imagine that the <span class="label label-info">home screen</span> is always at the bottom of the stack. When you open an app from your launcher, one of its screens gets <span class="label label-info">pushed</span> onto the stack. You, the user, always see the screen that is currently at the top of the stack. If you click a button on that screen that opens another screen, then the new one is pushed onto the stack as well.
      </p><p>
        To leave a screen and go back to the previous one, you click the <span class="label label-info">Back</span> button on your device. This <span class="label label-info">pops</span> the navigation stack, destroys the current screen, and returns you to the one just before it. You can continue to go back in this way until you reach the home screen again.
      </p>


      <div class="page-header"><h2 id="manifest">Multiple Screens and the Android Manifest File</h2></div>

      <p>
        Recall that Android applications are composed of one or more <span class="label label-info">activities</span>, each of which represents a single screen in the application. Also recall that Sofia provides the <code class="link">sofia.app.Screen</code> class that...
      </p><p>
        TODO: finish writing this chapter
      </p>

    </div> <!-- /container -->

    <footer>
      <div class="container">
        <p class="pull-left">
          &copy; 2012 Tony Allevato
        </p>
        <p class="pull-right">
          <a href="#">Back to top</a>
        </p>
      </div>
    </footer><!-- footer -->

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.min.js" type="text/javascript"></script>
    <script src="codemirror/lib/codemirror.js" type="text/javascript"></script>
    <script src="js/bootstrap.min.js" type="text/javascript"></script>
    <script src="js/cm.js" type="text/javascript"></script>
  </body>
</html>
